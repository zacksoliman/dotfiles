function doc_get_form_equivalents(a){function c(a,d,e){if(!a)return[];var f=a.ownerDocument,g,k;e||(e=0);var l=[],m=[],p=[],h=a.children;if(!h||0==h.length)return[];for(g=0;g<h.length;g++)if(lp_in_array(h[g].tagName.toUpperCase(),["DIV","SECTION","HEADER"])&&lpIsVisible(h[g],!0)){var n=c(h[g],d,e+1);for(k=0;k<n.length;k++)m.push(n[k]);verbose_log(b("child div %s has %d forms ",LP_getname(h[g]),n.length))}else"FORM"==h[g].tagName.toUpperCase()?!is_search_form(f,h[g])&&popupfill_shoulddoform(f,h[g])&&
m.push(h[g]):"INPUT"==h[g].tagName.toUpperCase()&&popupfill_shoulddofield(f,h[g])&&(verbose_log(b("child input %s found in %s",LP_getname(h[g]),LP_getname(a))),p.push(h[g]));("DIV"==a.tagName||"FORM"==a.tagName)&&0<p.length?popupfill_shoulddoform(f,a)?(l.push(a),verbose_log(b("FOUND %d child forms and found inputs in this div %s, treating all together as one",m.length,LP_getname(a)))):verbose_log(b("FOUND child forms in this div %s but intentionally skipping it",0,LP_getname(a))):(l=m,verbose_log(b("FOUND %d child forms in this div %s",
l.length,LP_getname(a))));return l}a||(a=LP_derive_doc());if(!a||!a.body)return[];var b=sprintf;g_isie&&init_LPfn()&&LPfn&&(b=LPfn.sprintf);var e=/container|form|box|wrapper|youama-login-window|youama-register-window/i,d,f,k=!1,l=[],n=0,m=a.body.children,p=m.length;Checkpoint.assert(100>p,"document too complex, "+get_doc_location_href(a));100<p&&(p=100);if(LP_has_youama(a)&&(d=LP_get_youama_fields(a),d.login_form_container&&d.regis_form_container))return[d.login_form_container,d.regis_form_container];
for(d=0;d<p;d++)if(f=m[d].tagName.toUpperCase(),lp_in_array(f,["DIV","FORM","SECTION","HEADER"])){if(elt_is_formlike_container(m[d])){var q=c(m[d],e),n=n+q.length;for(f=0;f<q.length;f++)l.push(q[f])}}else"INPUT"==f&&(k=!0);k&&0==l.length&&l.push(a.body);verbose_log(b("Found %d form equivalents on this page",n));return l}
function elt_is_formlike_container(a,c){if(!a)return!1;var b=a.ownerDocument,e;LP_createXPathFromElement(b,a)||LP_pickFormName(b,a);if(!lpIsVisible(a,!0)||0>=a.children.length)return!1;var d=a.getElementsByTagName("input"),f=[];if(d){if(0>=d.length)return!1;var k=d.length;Checkpoint.assert(k<MAX_INPUTS_SOFT,"formlike container "+LP_getname(a)+" is too complex");k>MAX_INPUTS_SOFT&&(k=MAX_INPUTS_SOFT);for(e=0;e<k;e++)if(popupfill_shoulddofield(b,d[e])){f.push(d[e]);break}}return 0>=f.length?!1:0<f.length?
(verbose_log("detected mammaliaforme "+LP_getname(a)),!0):!1}var g_lp_form_num=1;
function LP_pickFormName(a,c){var b="none";if(null!=c&&(b=LP_getname(c,LP_GETNAME_FAVOR_ID_OVER_NAME),null==b||0>=b.length)&&(null!=c.action&&"string"==typeof c.action&&0<=c.action.length||null!=c.className&&0<=c.className.length?(b=c.action,"string"!=typeof b&&(b=c.getAttribute("action")),b="FF"+b+c.className):b="none","FF"==b||"none"==b)){var e=c.getAttribute("lpformnum");e||(e=g_lp_form_num++,c.setAttribute("lpformnum",e));b+="lpformnum"+e}return b}
function LP_getFormEquivalent(a,c){if(!c)return null;a||(a=c.ownerDocument);return a?c.form?c.form:null:null};
