var CreateCreditMonitoringDialog=function(a){Dialog.call(this,a,{additionalHeaderClasses:["icon"],dynamicHeight:!0,title:Strings.translateString("Create Credit Monitoring Profile"),nextButtonText:Strings.translateString("Create New Profile")})};CreateCreditMonitoringDialog.prototype=Object.create(Dialog.prototype);CreateCreditMonitoringDialog.prototype.constructor=CreateCreditMonitoringDialog;
CreateCreditMonitoringDialog.prototype.initialize=function(){Dialog.prototype.initialize.apply(this,arguments);this.nextButton.addClass("dynamicWidth")};
CreateCreditMonitoringDialog.prototype.setup=function(){(function(b){for(var a=[],d=LPProxy.getFormFills(),c=0,f=d.length;c<f;++c){var e=d[c];"1"!==e._model._data.profiletype&&a.push(e)}b.containers.formFill=new Container(a,{display:VaultItemBaseDisplay.prototype.DISPLAY_LIST,additionalItemClasses:"creditMonitoringItem",allowDrag:!1,allowDrop:!1,excludeActions:[Constants.ACTION_SHARE,Constants.ACTION_DELETE],multiSelect:!1,publishSelect:!1,selectCallback:function(a){0===a?b.nextButton.text(Strings.translateString("Create New Profile")):
b.nextButton.text(Strings.translateString("Enable Credit Monitoring"))}})})(this);if(this.containers.formFill.isEmpty())document.getElementById("createCreditMonitoringProfile").textContent="None available";else{var a=document.getElementById("createCreditMonitoringProfile");LPTools.removeDOMChildren(a);this.containers.formFill.initialize(a)}this.nextButton.text(Strings.translateString("Create New Profile"));Dialog.prototype.setup.apply(this,arguments)};
CreateCreditMonitoringDialog.prototype.handleSubmit=function(){var a=this.containers.formFill.getSelectedModelItems();0<a.length?dialogs.formFill.open({vaultItem:a[0],show:!1,postSetup:function(a){a.inputFields.creditmon.setValue(!0);a.performValidate({data:a.getData(!1),callback:function(b){b?a.submit():(a.setTitle(Strings.translateString("Enable Credit Monitoring")),a.$element.show(),dialogs.alert.open({title:Strings.translateString("Error"),text:Strings.translateString("Please correct the validation errors and then click Save to enable credit monitoring.")}))}})}}):
dialogs.formFill.open({title:this.getTitle(),defaultData:{creditmon:!0}});this.close(!0)};
