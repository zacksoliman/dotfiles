var IntroTour=IntroTour||function(g,h,k,c){var a,b;return{start:function(e){var d=null,f=this;e||(d=c.getPreference("seenVault4.0")?{remainingTours:[]}:JSON.parse(c.getPreference("IntroTour",null)));b=new g(k,d);(d=b.getAvailableTour())&&d.showDate&&new Date>=new Date(d.showDate)&&(a=new h(d),e||(c.setPreferences("IntroTour",JSON.stringify(b.options)),a.subscribeToAction("later",this.laterThisTour),a.subscribeToAction("never",this.neverThisTour),a.subscribeToAction("start",this.takeThisTour),a.subscribeToAction("close",
this.cleanup)),Topics.get(Topics.CLEAR_DATA).subscribe(function(){f&&f.cleanup&&f.cleanup()}),a.startFlow(e))},cleanup:function(){a&&(a.unSubscribeAction("later"),a.unSubscribeAction("never"),a.unSubscribeAction("start"),a.cleanup(),a=null)},neverThisTour:function(){b.neverThisTour();c.setPreferences("IntroTour",JSON.stringify(b.options))},laterThisTour:function(){b.laterThisTour();c.setPreferences("IntroTour",JSON.stringify(b.options))},neverAllTours:function(){b.neverAllTours();c.setPreferences("IntroTour",
JSON.stringify(b.options))},takeThisTour:function(){b.takeThisTour();c.setPreferences("IntroTour",JSON.stringify(b.options))},resetAllTours:function(){c.setPreferences("IntroTour",null)},makeLaterNowTours:function(){var a=JSON.parse(c.getPreference("IntroTour",null));a&&a.remainingTours&&0<a.remainingTours.length&&(a.remainingTours[0].showDate=new Date,c.setPreferences("IntroTour",JSON.stringify(a)))}}}(IntroTourQueue,IntroTourFlow,IntroTourData,LPProxy);
