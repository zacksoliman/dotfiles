Notifications=function(){var e=null,f=null,h=function(a,b){if(b){var d=a.find(".message");"string"===typeof b?d.text(b):b instanceof Array&&(d.empty(),d.append(b));a.css("top",0)}},k=function(a){h(e,a)},l=function(a,b){b.css("top",-b.outerHeight());a&&(a.stopPropagation(),a.preventDefault())},g=function(a){l(a,e)},m=function(a){l(a,f)},n=null,p=function(a){h(f,a);clearTimeout(n);n=setTimeout(function(){m()},3E3)},q=function(a){var b=["notification"].concat(LPTools.getOption(a,"additionalClasses",
[])),b=LPTools.createElement("div",{"class":b.join(" "),id:a.id,role:"alert","aria-atomic":"true"}),d="undefined"!=typeof dialogs&&"undefined"!=typeof dialogs.baseURL?dialogs.baseURL:"",c=LPTools.createElement("div","messageCell");c.appendChild(LPTools.createElement("img",{src:d+a.img}));c.appendChild(LPTools.createElement("span","title",a.title));c.appendChild(LPTools.createElement("span","message"));b.appendChild(c);c=LPTools.createElement("div",{"class":"close midToneHover",title:Strings.translateString("Close")});
c.appendChild(LPTools.createElement("img",{src:d+a.closeImg}));LPPlatform.addEventListener(c,"click",a.closeHandler);b.appendChild(c);document.body.appendChild(b);return $(b)};return{displayErrorMessage:k,displaySuccessMessage:p,initialize:function(a){e=q($.extend(a,{id:"errorMessage",img:"images/vault_4.0/Error.png",title:Strings.translateString("ERROR")+": ",closeImg:"images/vault_4.0/Error_Close.png",closeHandler:g}));f=q($.extend(a,{id:"successMessage",img:"images/vault_4.0/Success.png",title:Strings.translateString("SUCCESS")+
": ",closeImg:"images/vault_4.0/Success_Close.png",closeHandler:m}));Topics.get(Topics.ERROR).subscribe(function(a){k(a)});Topics.get(Topics.SUCCESS).subscribe(function(a){p(a)});Topics.get(Topics.REQUEST_START).subscribe(function(){g()});Topics.get(Topics.DIALOG_CLOSE).subscribe(function(){g()})}}}();
