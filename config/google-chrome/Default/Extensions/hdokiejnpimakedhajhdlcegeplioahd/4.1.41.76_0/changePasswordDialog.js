var ChangePasswordDialog=function(a){VaultItemSelectDialog.call(this,a,{title:Strings.translateString("Change Password"),nextButtonText:Strings.translateString("Change")})};ChangePasswordDialog.prototype=Object.create(VaultItemSelectDialog.prototype);ChangePasswordDialog.prototype.constructor=ChangePasswordDialog;
(function(){ChangePasswordDialog.prototype.open=function(a){a=a||{};if(!a.hasOwnProperty("items")){var g=function(){for(var e={},b=a.excluded?a.excluded.split(","):[],d=0,c=b.length;d<c;++d)b[d]&&(e[b[d]]=!0);return e}();a.items=[];for(var f=LPProxy.getSiteModels(),c=0,h=f.length;c<h;++c){var b=f[c];g.hasOwnProperty(b.getID())||b.hasGeneratedPassword()||LPProxy.getDomain(b.getURL())!==a.domain||a.items.push(b)}}a.text=[LPTools.createElement("span",null,Strings.translateString("LastPass detected a password change for")+
" "),LPTools.createElement("span","bold",a.domain+"."),Strings.translateString("Please select which sites you wish to apply this change.")];a.handler=this.createDynamicHandler(function(a){LPRequest.makeRequest(LPProxy.changePasswords,{params:{password:this.data.newPassword,items:a},success:function(){Topics.get(Topics.SUCCESS).publish(Strings.translateString("%1 passwords were updated.",a.length))}})});VaultItemSelectDialog.prototype.open.call(this,a)}})();
