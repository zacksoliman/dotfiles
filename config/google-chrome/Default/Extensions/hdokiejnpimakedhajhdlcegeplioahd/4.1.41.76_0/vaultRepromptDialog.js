var VaultRepromptDialog=function(a){RepromptDialog.call(this,a)};VaultRepromptDialog.prototype=Object.create(RepromptDialog.prototype);VaultRepromptDialog.prototype.constructor=VaultRepromptDialog;
(function(){VaultRepromptDialog.prototype.open=function(a){RepromptDialog.prototype.open.call(this,$.extend(a,{defaultData:{delayRepromptTime:bg.Preferences.get("reprompttime")}}))};VaultRepromptDialog.prototype.initialize=function(a){RepromptDialog.prototype.initialize.apply(this,arguments);(function(a){a.inputFields.delayRepromptTime.onChange(function(b){a.inputFields.delayReprompt.setValue(0<parseInt(b))});a.inputFields.delayReprompt.onChange(function(b){b||a.inputFields.delayRepromptTime.setValue("0")})})(this)};
VaultRepromptDialog.prototype.success=function(a){bg.Preferences.set("reprompttime",a.delayRepromptTime);bg.Preferences.set("lastreprompttime",Date.now());"function"===typeof this.data.successCallback?this.data.successCallback():bg.repromptSuccess()};VaultRepromptDialog.prototype.validateReprompt=function(a){bg.make_lp_key_hash(bg.get("g_username"),a.params.password,function(c,b){c===LPProxy.getLocalKey()?a.success(a.params):a.repromptFailed()})}})();
